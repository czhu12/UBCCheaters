{"version":3,"sources":["web/static/js/actions/ModelCreationActions.js","web/static/js/actions/ServerActionCreators.js","web/static/js/actions/ViewActions.js","web/static/js/api/AppAPI.js","web/static/js/app.js","web/static/js/components/ChatClient.js","web/static/js/components/ChatFile.js","web/static/js/components/ChatFileList.js","web/static/js/components/ChatMessage.js","web/static/js/components/ChatMessageList.js","web/static/js/components/CourseList.js","web/static/js/components/CourseSearchBar.js","web/static/js/components/DeptLink.js","web/static/js/components/FileUpload.js","web/static/js/components/Footer.js","web/static/js/constants/Constants.js","web/static/js/dispatcher/AppDispatcher.js","web/static/js/stores/CourseStore.js","web/static/js/stores/FileStore.js","web/static/js/stores/MessageStore.js","web/static/js/utils/RouteUtils.js","web/static/js/utils/SocketUtils.js"],"names":[],"mappings":"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","file":"priv/static/js/app.js","sourcesContent":["var AppDispatcher = require('../dispatcher/AppDispatcher');\nvar Constants = require('../constants/Constants');\nvar ActionTypes = Constants.ActionTypes;\n\nmodule.exports = {\n  receiveAllDepts: function(depts) {\n    AppDispatcher.handleServerAction({\n      type: ActionTypes.RECEIVE_DEPTS,\n      depts: depts\n    });\n  }\n};\n","var AppDispatcher = require('../dispatcher/AppDispatcher');\nvar Constants = require('../constants/Constants');\nvar ActionTypes = Constants.ActionTypes;\n\nmodule.exports = {\n  receiveAllDepts: function(depts) {\n    AppDispatcher.handleServerAction({\n      type: ActionTypes.RECEIVE_DEPTS,\n      depts: depts\n    });\n  },\n  receiveAllCourses: function(courses) {\n    AppDispatcher.handleServerAction({\n      type: ActionTypes.RECEIVE_COURSES,\n      courses: courses\n    });\n  },\n  receiveAllMessages: function(messages) {\n    AppDispatcher.handleServerAction({\n      type: ActionTypes.RECEIVE_MESSAGES,\n      messages: messages\n    });\n  },\n  receiveMessage: function(message) {\n    AppDispatcher.handleServerAction({\n      type:ActionTypes.RECEIVE_MESSAGE,\n      message: message\n    });\n  },\n  receiveAllFiles: function(files) {\n    AppDispatcher.handleServerAction({\n      type: ActionTypes.RECEIVE_FILES,\n      files: files\n    });\n  },\n  receiveFile: function(file) {\n    AppDispatcher.handleServerAction({\n      type:ActionTypes.RECEIVE_FILE,\n      file: file\n    });\n  },\n};\n","var AppAPI = require('../api/AppAPI');\nvar AppDispatcher = require('../dispatcher/AppDispatcher');\nvar Constants = require('../constants/Constants');\nvar ServerActionCreators = require('./ServerActionCreators');\nvar ActionTypes = Constants.ActionTypes;\n\nmodule.exports = {\n  searchDepts: function(query) {\n    AppDispatcher.handleViewAction({\n      type: ActionTypes.SEARCH_DEPTS,\n      query: query\n    });\n  },\n  fetchCoursesForDept: function(dept) {\n    AppAPI.getCourses(dept, function(courses) {\n      ServerActionCreators.receiveAllCourses(courses);\n    });\n  }\n};\n","module.exports = {\n  getDepts: function(callback) {\n    $.getJSON('/api/courses/meta', function(result) {\n      // Here, we return the result\n      callback(result);\n    });\n  },\n  getCourses: function(dept, callback) {\n    $.getJSON('/api/courses', {dept: dept}, function(result) {\n      // Here, we return the result\n      callback(result);\n    });\n  },\n  getMessages: function(courseId, callback) {\n    var route = '/api/courses/' + courseId + '/messages';\n    $.getJSON(route, function(result) {\n      // Here, we return the result\n      callback(result);\n    });\n  },\n  getFiles: function(courseId, callback) {\n    $.getJSON('/api/courses/' + courseId + '/files', function(result) {\n      // Here, we return the result\n      callback(result);\n    });\n  },\n  createMessage: function(courseId, message, callback) {\n    $.post('/api/courses/' + courseId + '/messages', message, function(result) {\n      callback(result);\n    });\n  },\n  getCourse: function(courseId, callback) {\n    var route = '/api/courses/' + courseId;\n    $.getJSON(route, function(result) {\n      callback(result);\n    });\n  }\n};\n","var AppAPI = require('./api/AppAPI');\nvar React = require('react');\nvar ChatMessageList = require('./components/ChatMessageList');\nvar ChatFileList = require('./components/ChatFileList');\nvar CourseList = require('./components/CourseList');\nvar CourseSearchBar = require('./components/CourseSearchBar');\nvar DeptLink = require('./components/DeptLink');\nvar ServerActionCreators = require('./actions/ServerActionCreators');\nvar ChatClient = require('./components/ChatClient');\nvar FileUpload = require('./components/FileUpload');\nvar CourseStore = require('./stores/CourseStore');\nvar Router = require('react-router');\nvar Route = Router.Route;\nvar RouteUtils = require('./utils/RouteUtils');\nvar SocketUtils = require('./utils/SocketUtils');\nvar Footer = require('./components/Footer');\n\nvar DefaultRoute = Router.DefaultRoute;\nvar RouteHandler = Router.RouteHandler;\nvar Link = Router.Link;\n  \nvar App = React.createClass({\n  getInitialState: function () {\n    var state = this.fetchState();\n    return state;\n  },\n  fetchState: function() {\n    var depts = CourseStore.getFilteredDepts();\n    return {\n      depts: depts,\n    }\n  },\n  componentDidMount: function() { \n    CourseStore.addChangeListener(this._onChange);\n    $(\".classes-list\").height(document.documentElement.clientHeight);\n  },\n  componentWillUnmount: function() {\n    CourseStore.removeListener(this._onChange); \n  },\n  _onChange: function() {      \n    this.setState(this.fetchState());    \n  },  \n  render: function () {\n    var depts = this.state.depts.map(function(dept) {\n      var deptCourses = CourseStore.getCoursesForDept(dept);\n      return (\n        <DeptLink \n          key={dept} \n          courses={deptCourses} \n          dept={dept}/>\n      );\n    });\n\n    return (\n      <div className=\"App\">\n        <div className=\"row\">\n          <div className=\"container\">\n            <ul className=\"Master classes-list col-md-1\">\n              <CourseList depts={this.state.depts}/>\n            </ul>\n            <div className=\"Detail col-md-11\">\n              <RouteHandler />\n            </div>\n          </div>\n          <Footer/>\n        </div>\n      </div>\n    );\n  }\n});\n\nvar Index = React.createClass({\n  render: function () {\n    return <p>Select a course from the left</p>;\n  }\n});\n\nvar routes = (\n  <Route handler={App}>\n    <DefaultRoute handler={Index}/>\n    <Route name=\"course\" path=\"course/:course_id\" handler={ChatClient}/>\n  </Route>\n);\n\nRouter.run(routes, function (Handler) {\n  AppAPI.getDepts(function(depts) {\n    ServerActionCreators.receiveAllDepts(depts);\n    if (RouteUtils.isCourseRoute()) {\n      var courseId = RouteUtils.getCourseId();\n\n      AppAPI.getCourse(courseId, function(course) {\n        AppAPI.getCourses(course.dept, function(courses) {\n          ServerActionCreators.receiveAllCourses(courses);\n        });\n        ServerActionCreators.receiveAllCourses([course]);\n\n        AppAPI.getMessages(course.id, function(messages) {\n          ServerActionCreators.receiveAllMessages(messages);\n        });\n\n        AppAPI.getFiles(course.id, function(files) {\n          ServerActionCreators.receiveAllFiles(files);\n        });\n\n        React.render(<Handler/>, document.getElementById('content'));\n      });\n    } else {\n      React.render(<Handler/>, document.getElementById('content'));\n    }\n  });\n});\n\nvar socket     = new Phoenix.Socket(\"ws://\" + location.host +  \"/ws\");\nsocket.connect();\n\n// this code needs to be run after the route is switched.\nsocket.join('rooms:lobby', {}).receive('ok', function(channel) {\n  channel.on('new:uploadedfile', function(file) {\n    ServerActionCreators.receiveFile(file);\n  });\n\n  channel.on('new:msg', function(message) {\n    ServerActionCreators.receiveMessage(message);\n  });\n});\n","var CourseStore = require('../stores/CourseStore');\nvar ChatFileList = require('./ChatFileList');\nvar ChatMessageList = require('./ChatMessageList');\nvar FileUpload = require('./FileUpload');\nvar React = require('react');\nvar RouteUtils = require('../utils/RouteUtils');\n\nfunction fetchState() {\n  return null;\n}\n\nvar ChatClient = React.createClass({\n  getInitialState: function() {\n    return fetchState();\n  },\n  contextTypes: {\n    router: React.PropTypes.func.isRequired\n  },\n  componentDidUpdate: function() {\n  },\n  render: function() {\n    var courseId = this.context.router.getCurrentParams().course_id;\n    var course = CourseStore.lookup(courseId);\n    var dept = course.dept;\n    var courseNumber = course.course;\n    return (\n      <div>\n        <div className=\"row\">\n          <div className=\"col-xs-8 col-sm-8 col-md-8\">\n            <div className=\"comment-box\">\n              <h3>{dept} {courseNumber}</h3>\n              <ChatMessageList />\n            </div>\n          </div>\n\n          <div className=\"col-xs-4 col-sm-4 col-md-4\">\n            <div className=\"files-box\">\n              <div className=\"files-title\">\n                <h4>\n                  Class files\n                </h4>\n              </div>\n              <FileUpload />\n              <ChatFileList />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  } \n});\n\nmodule.exports = ChatClient;\n","var React = require('react');\n\nvar ChatFile = React.createClass({\n  getLink: function(file) {\n    var filename = file.name;\n    var link = file.link;\n    var path = 'http://' + [location.host, link, filename].join('/');\n    return path;\n  },\n  downloadFile: function() {\n    var link = this.getLink(this.props.file);\n    window.location.href = link;\n  },\n  render: function() {\n    var file = (\n      <div className=\"file-container\">\n        <div>\n          <div className=\"file-content\">\n            <span className=\"file-link\">\n              <a onClick={this.downloadFile}>\n                {this.props.file.name}\n              </a>\n            </span>\n          </div>\n        </div>\n        <hr className=\"file-divider\"/>\n      </div>\n    );\n\n    return file;\n  }\n\n}); \n\nmodule.exports = ChatFile;\n","var ChatFile = require('./ChatFile');\nvar FileStore = require('../stores/FileStore');\nvar React = require('react');\nvar RouteUtils = require('../utils/RouteUtils');\n\nfunction fetchState() {        \n  var course = RouteUtils.currentCourse();\n  return {                     \n    files: FileStore.getAllForCourse(course) \n  }\n} \n\nvar ChatFileList = React.createClass({\n  getInitialState: function() {\n    return fetchState();       \n  },\n  componentDidMount: function() { \n    FileStore.addChangeListener(this._onChange);\n    $(\".files-list\").height(document.documentElement.clientHeight);\n  },\n  componentWillUnmount: function() {\n    FileStore.removeChangeListener(this._onChange); \n  },\n  _onChange: function() {      \n    this.setState(fetchState());\n  },\n  render: function() {         \n    var files = this.state.files.map(function(file) {\n      return (\n        <li key={file.id}>\n          <ChatFile file={file} />\n        </li>\n      );\n    });\n\n    return (\n      <div className=\"files-container\"> \n        <ul className=\"files-list\">\n          {files}\n        </ul>\n      </div>\n    );\n  }\n});\n\nmodule.exports = ChatFileList;\n","var React = require('react');\n\nvar ChatMessage = React.createClass({\n  render: function() {\n    var message; \n    var username = this.props.message.user ? this.props.message.user : 'anonymous';\n    if (this.props.isFirst) {  \n      message = (\n        <li className=\"message\">\n          <div>\n            <div className=\"message-content\">\n              <span className=\"message-user\">[{username}]</span> \n              <span className=\"message-body\">{this.props.message.body}</span>\n            </div>\n          </div>\n        </li>\n      );\n    } else {\n      message = (\n        <li className=\"message\">\n          <div>\n            <div className=\"message-content\">\n              <span className=\"message-user\">[{username}]</span> \n              <span className=\"message-body\">{this.props.message.body}</span>\n            </div>\n          </div>\n        </li>\n      );\n    } \n    return message;\n  }   \n}); \n\nmodule.exports = ChatMessage;\n","var ChatMessage = require('./ChatMessage');\nvar MessageStore = require('../stores/MessageStore');\nvar React = require('react');\nvar RouteUtils = require('../utils/RouteUtils');\n\nfunction fetchState() {\n  var course = RouteUtils.currentCourse();\n  return {\n    messages: MessageStore.getAllForCourse(course)\n  }\n} \n\nvar ChatMessageList = React.createClass({\n  getInitialState: function() {\n    return fetchState();       \n  },\n  componentDidMount: function() { \n    MessageStore.addChangeListener(this._onChange);\n    $(\".messages-list\").height(document.documentElement.clientHeight - 240);\n  },\n  componentWillUnmount: function() {\n    MessageStore.removeChangeListener(this._onChange); \n  },\n  _onChange: function() {      \n    this.setState(fetchState());    \n  },  \n  render: function() {         \n    var messages = this.state.messages.map(function(message, index) {\n      if (index == 0) {        \n        return <ChatMessage key={message.id} message={message} isFirst={true}/>\n      } else {                 \n        return <ChatMessage key={message.id} message={message} isFirst={false}/>\n      }\n    });\n\n    return (\n      <div className=\"messages-container\"> \n        <ul ref=\"chatList\" className=\"messages-list\">\n          {messages}\n        </ul>\n      </div>\n    );\n  },\n  componentDidUpdate: function() {\n    this._scrollToBottom();\n  },\n  _scrollToBottom: function() {\n    var ul = this.refs.chatList.getDOMNode();\n    ul.scrollTop = ul.scrollHeight; \n  },\n});\n\nmodule.exports = ChatMessageList;\n\n\n","var CourseSearchBar = require('../components/CourseSearchBar');\nvar CourseStore = require('../stores/CourseStore');\nvar DeptLink = require('../components/DeptLink');\nvar React = require('react');\nvar ViewActions = require('../actions/ViewActions.js');\n\nvar CourseList = React.createClass({\n  componentDidMount: function() { \n    $(\".course-list\").height(document.documentElement.clientHeight - 140);\n  },\n  componentWillUnmount: function() {\n  },\n  _onChange: function() {      \n    this.setState(fetchState());    \n  },  \n  handleChange: function(e) {\n    this.setState({query: e.target.value});\n    ViewActions.searchDepts(e.target.value);\n  },\n  render: function() {         \n    var depts = this.props.depts.map(function(dept) {\n      var deptCourses = CourseStore.getCoursesForDept(dept);\n      return (\n        <DeptLink \n          key={dept} \n          courses={deptCourses} \n          dept={dept}/>\n      );\n    });\n\n    return (\n      <div className=\"course-list-container\">\n        <CourseSearchBar />\n        <ul className=\"course-list\">\n          {depts}\n        </ul>\n      </div>\n    );\n  },\n  componentDidUpdate: function() {\n  },\n});\n\nmodule.exports = CourseList;\n","var React = require('react');\nvar ViewActions = require('../actions/ViewActions.js');\n\nfunction fetchState() {\n  return {\n    query: ''\n  }\n} \n\nvar CourseSearchBar = React.createClass({\n  getInitialState: function() {\n    return fetchState();       \n  },\n  componentDidMount: function() { \n  },\n  componentWillUnmount: function() {\n  },\n  _onChange: function() {      \n    this.setState(fetchState());    \n  },  \n  handleChange: function(e) {\n    this.setState({query: e.target.value});\n    ViewActions.searchDepts(e.target.value);\n  },\n  render: function() {         \n    return (\n      <input \n        type=\"text\"\n        value={this.state.username} \n        className=\"course-search-input style-5\"\n        onChange={this.handleChange}\n        />\n    );\n  },\n  componentDidUpdate: function() {\n  },\n});\n\nmodule.exports = CourseSearchBar;\n\n\n","var Router = require('react-router');\nvar Link = Router.Link;\nvar CourseStore = require('../stores/CourseStore');\nvar React = require('react');\nvar ViewActions = require('../actions/ViewActions');\n\nfunction fetchState(dept) {\n  var deptCourses = CourseStore.getCoursesForDept(dept);\n  return {\n    courses: deptCourses\n  }\n} \n\n// Props contains dept\nvar DeptLink = React.createClass({\n  getInitialState: function() {\n    return fetchState(this.props.dept);       \n  },\n  componentDidMount: function() { \n    //CourseStore.addChangeListener(this._onChange);\n  },\n  componentWillUnmount: function() {\n    //CourseStore.removeChangeListener(this._onChange); \n  },\n  _onChange: function() {      \n    this.setState(fetchState(this.props.dept));\n  },\n  handleClick: function() {\n    // Here, we want to expand this tab.\n    ViewActions.fetchCoursesForDept(this.props.dept.toUpperCase());\n  },\n  render: function() {\n    var courses = this.props.courses.map(function(course) {\n      return (\n        <div>\n          <Link to=\"course\" params={{course_id: course.id}}>\n            {course.course}\n          </Link>\n        </div>\n      );\n    }); \n\n    return (\n      <li key={this.props.dept} onClick={this.handleClick}>\n        {this.props.dept}\n        {courses}\n      </li>\n    );\n  }\n});\n\nmodule.exports = DeptLink;\n","var RouteUtils = require('../utils/RouteUtils');\nvar React = require('react');\nvar MessageStore = require('../stores/MessageStore');\nvar CourseStore = require('../stores/CourseStore');\n\nfunction fetchState() {        \n  return {                     \n  }\n} \n\nvar FileUpload = React.createClass({\n  contextTypes: {\n    router: React.PropTypes.func.isRequired\n  },\n  getInitialState: function() {\n    return fetchState();       \n  },\n  componentDidMount: function() { \n    $('#upload').fileupload({\n        // This function is called when a file is added to the queue;\n        // either via the browse button, or via drag/drop:\n        add: function (e, data) {\n            // Automatically upload the file once it is added to the queue\n            var jqXHR = data.submit();\n        },\n\n        fail:function(e, data){\n            // Something has gone wrong!\n            data.context.addClass('error');\n        }\n    });\n  },\n  componentWillUnmount: function() {\n  },\n  _onChange: function() {      \n    this.setState(fetchState());    \n  },  \n  handleUpload: function() {\n  },\n  getCourseId: function() {\n    var course = RouteUtils.currentCourse();\n    return course.id;\n  },\n  getCourseEndpoint: function() {\n    var courseId = this.getCourseId();\n    var endpoint = 'api/courses/' + courseId + '/files';\n    return endpoint;\n  },\n  render: function() {         \n    return (\n      <div onClick={this.handleUpload} className=\"file-upload\"> \n        <form id='upload' method='post' action={this.getCourseEndpoint()} encType=\"multipart/form-data\">\n          <input type=\"file\" name=\"file\" multiple />\n        </form>\n      </div>\n    );\n  }\n});\n\nmodule.exports = FileUpload;\n","var React = require('react');\nvar AppAPI = require('../api/AppAPI');\nvar CourseStore = require('../stores/CourseStore');\nvar RouteUtils = require('../utils/RouteUtils');\n\nfunction fetchState() {\n  return {\n    userInput: '',\n    username: ''\n  }\n} \n\nvar Footer = React.createClass({\n  contextTypes: {\n    router: React.PropTypes.func.isRequired\n  },\n  getInitialState: function() {\n    return fetchState();       \n  },\n  componentDidMount: function() { \n  },\n  componentWillUnmount: function() {\n  },\n  _onChange: function() {      \n    this.setState(fetchState());    \n  },  \n  handleChange: function(e) {\n    this.setState({userInput: e.target.value});\n  },\n  handleUsernameChange: function(e) {\n    this.setState({username: e.target.value});\n  },\n  keyPressed: function(e) {\n    if (e.key == \"Enter\" && e.target.value.trim() != '') {\n      var message = {\n        message: {\n          user: this.state.username, \n          body: this.state.userInput\n        }\n      };\n\n      var course = RouteUtils.currentCourse();\n      var thiz = this;\n      AppAPI.createMessage(course.id, message, function(result) {\n        thiz.setState({userInput: ''}); \n      });\n    }\n  },\n  render: function() {         \n    return (\n      <div id=\"footer\"> \n        <div className=\"container\">\n          <div className=\"row\">\n            <div className=\"col-sm-2\">\n              <div className=\"input-group\">\n                <span className=\"input-group-addon\">@</span>\n                <input \n                  id=\"username\" \n                  value={this.state.username} \n                  onChange={this.handleUsernameChange} \n                  type=\"text\" \n                  className=\"form-control\" \n                  placeholder=\"anonymous\" />\n              </div>\n            </div>\n            <div className=\"col-sm-10\">\n              <input \n                id=\"message-input\" \n                value={this.state.userInput} \n                onChange={this.handleChange} \n                onKeyDown={this.keyPressed} \n                className=\"form-control\" />\n            </div>\n          </div>\n        </div>\n      </div>\n    );\n  }\n});\n\nmodule.exports = Footer;\n","var keymirror = require('keymirror');                                                                                                                                              \nmodule.exports = {             \n  ActionTypes: keymirror({     \n    CREATE_MESSAGE: null,      \n    RECEIVE_COURSES: null,      \n    RECEIVE_DEPTS: null,      \n    RECEIVE_FILE: null,\n    RECEIVE_FILES: null,\n    RECEIVE_MESSAGES: null,\n    RECEIVE_MESSAGE: null,\n    SEARCH_DEPTS: null\n  }),\n\n  PayloadSources: keymirror({\n    SERVER_ACTION: null,\n    VIEW_ACTION: null\n  })\n}\n","var Dispatcher = require('flux').Dispatcher;\n\nvar assign = require('object-assign');\nvar PayloadSources = require('../constants/Constants.js');\n\nvar AppDispatcher = assign(new Dispatcher(), {\n  handleServerAction: function(action) {\n    var payload = {            \n      source: PayloadSources.SERVER_ACTION,\n      action: action\n    };\n    \n    this.dispatch(payload);\n  },\n  handleViewAction: function(action) {\n    var payload = {\n      source: PayloadSources.VIEW_ACTION,\n      action: action\n    };\n  \n    this.dispatch(payload);    \n  }   \n});   \n  \nmodule.exports = AppDispatcher;\n","var _ = require('underscore');\nvar EventEmitter = require('events').EventEmitter;\nvar assign = require('object-assign');\nvar AppDispatcher = require('../dispatcher/AppDispatcher');\nvar Constants = require('../constants/Constants');\nvar ActionTypes = Constants.ActionTypes;\n    \nvar CHANGE_EVENT = 'change';\nvar courses = [];\nvar depts = [];\nvar currentQuery = \"\";\n          \nvar CourseStore = assign({}, EventEmitter.prototype, {\n  addChangeListener: function(callback) {\n    this.on(CHANGE_EVENT, callback);\n  },      \n  removeChangeListener: function(callback) {\n    this.removeListener(CHANGE_EVENT, callback);\n  },  \n  emitChange: function() {\n    this.emit(CHANGE_EVENT);\n  },    \n  getAll: function() {\n    return courses; \n  },\n  getAllDepts: function() {\n    return depts; \n  },\n  getFilteredDepts: function() {\n    var filteredDepts = depts.filter(function(dept) {\n      return belongsIn(dept, currentQuery);\n    });\n    return filteredDepts;\n  },\n  getCoursesForDept: function(dept) {\n    var filteredCourses = courses.filter(function(course) {\n      return course.dept.toLowerCase() == dept.toLowerCase();\n    });\n\n    return filteredCourses;\n  },\n  lookupDept: function(dept) {\n    return _.find(courses, function(course) {\n      return course.dept.toLowerCase() == dept.toLowerCase();\n    });\n  },\n  lookup: function(courseId) {\n    return _.find(courses, function(course) {\n      return course.id == parseInt(courseId, 10);\n    });\n  },\n});\n\nfunction belongsIn(dept, query) {\n  return dept.toLowerCase().indexOf(query.toLowerCase()) > -1;\n}\n\nCourseStore.dispatchToken = AppDispatcher.register(function(payload) {\n  var action = payload.action;\n  switch(action.type) {\n    case ActionTypes.RECEIVE_COURSES:\n      for (var i = 0; i < action.courses.length; i++) {\n        var newCourse = action.courses[i];\n\n        if (!hasCourse(newCourse)) {\n          courses.push(newCourse);\n        }\n      }\n      break;\n    case ActionTypes.RECEIVE_DEPTS:\n      depts = action.depts;\n      break;\n    case ActionTypes.SEARCH_DEPTS:\n      currentQuery = action.query;\n      break;\n  }\n  CourseStore.emitChange();\n});\n\nfunction hasCourse(newCourse) {\n  for (var i = 0; i < courses.length; i++) {\n    var course = courses[i];\n    if (course.id == newCourse.id) {\n      return true;\n    }\n  }\n  return false;\n}\n\nmodule.exports = CourseStore;\n","var _ = require('underscore');\nvar assign = require('object-assign');\nvar AppDispatcher = require('../dispatcher/AppDispatcher');\nvar Constants = require('../constants/Constants');\nvar ActionTypes = Constants.ActionTypes;\nvar EventEmitter = require('events').EventEmitter;\n    \nvar CHANGE_EVENT = 'change';\nvar files = [];\n          \nvar FileStore = assign({}, EventEmitter.prototype, {\n  addChangeListener: function(callback) {\n    this.on(CHANGE_EVENT, callback);\n  },      \n  removeChangeListener: function(callback) {\n    this.removeListener(CHANGE_EVENT, callback);\n  },  \n  emitChange: function() {\n    this.emit(CHANGE_EVENT);\n  },    \n  getAll: function() {\n    return files; \n  },\n  getAllForCourse: function(course) {\n    return files.filter(function(file) {\n      return file.course_id == course.id;\n    });\n  }\n});       \n          \nFileStore.dispatchToken = AppDispatcher.register(function(payload) {\n  var action = payload.action;\n  switch(action.type) {\n    case ActionTypes.RECEIVE_FILE:\n      files.push(action.file);\n      break;\n    case ActionTypes.RECEIVE_FILES:\n      var newFiles = action.files.filter(function(newFile) {\n        var contains = _.find(files, function(file) {\n          return file.id == newFile.id;\n        });\n\n        return !(!!contains);\n      });\n\n      files = files.concat(newFiles);\n      break;\n  }\n\n  FileStore.emitChange();\n});\n\nmodule.exports = FileStore;\n\n","var _ = require('underscore');\nvar assign = require('object-assign');\nvar AppDispatcher = require('../dispatcher/AppDispatcher');\nvar Constants = require('../constants/Constants');\nvar ActionTypes = Constants.ActionTypes;\nvar EventEmitter = require('events').EventEmitter;\n    \nvar CHANGE_EVENT = 'change';\nvar messages = [];\n          \nvar MessageStore = assign({}, EventEmitter.prototype, {\n  addChangeListener: function(callback) {\n    this.on(CHANGE_EVENT, callback);\n  },      \n  removeChangeListener: function(callback) {\n    this.removeListener(CHANGE_EVENT, callback);\n  },  \n  emitChange: function() {\n    this.emit(CHANGE_EVENT);\n  },    \n  getAll: function() {\n    return messages; \n  },\n  getAllForCourse: function(course) {\n    return messages.filter(function(message) {\n      return message.course_id == course.id;\n    });\n  }         \n});       \n          \nMessageStore.dispatchToken = AppDispatcher.register(function(payload) {\n  var action = payload.action;\n  switch(action.type) {\n    case ActionTypes.RECEIVE_MESSAGE:\n      console.log(action.message);\n      messages.push(action.message);\n      break;\n    case ActionTypes.RECEIVE_MESSAGES:\n      var newMessages = action.messages.filter(function(newMessage) {\n        var contains = _.find(messages, function(message) {\n          return message.id == newMessage.id;\n        });\n\n        return !(!!contains);\n      });\n      \n      messages = messages.concat(newMessages);\n      break;\n  }\n\n  MessageStore.emitChange();\n});\n\nmodule.exports = MessageStore;\n\n","var CourseStore = require('../stores/CourseStore.js');\nmodule.exports = {\n  currentCourse: function() {\n    var splitUrl = window.location.href.split('/');\n    var courseId = splitUrl[splitUrl.length - 1];\n\n    var foundCourse = CourseStore.lookup(courseId);\n    return foundCourse;\n  },\n  isCourseRoute: function() {\n    var splitUrl = window.location.href.split('/');\n    return splitUrl[splitUrl.length - 2].indexOf('course') > -1;\n  },\n  getCourseId: function() {\n    var splitUrl = window.location.href.split('/');\n    var courseId = splitUrl[splitUrl.length - 1];\n\n    return courseId;\n  }\n}\n","var _ = require('underscore');\n\nmodule.exports = {\n  clearChannels: function() {\n    if (!this.socket) {\n      return;\n    }\n    \n    _.each(this.joinedChannels, function(channel) {\n      this.socket.leave(channel);\n    });\n  },\n  init: function() {\n    this.socket = new Phoenix.Socket(\"ws://\" + location.host +  \"/ws\");\n    this.socket.connect();\n  },\n  join: function(channel, callback, params) {\n    if (!this.socket) {\n      return;\n    }\n\n    this.joinedChannels = this.joinedChannels ? this.joinedChannels : [];\n    this.joinedChannels.push(channel);\n    socket.join(channel, params).receive('ok', callback);\n  }\n}\n"]}